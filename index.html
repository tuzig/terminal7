<!DOCTYPE HTML>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Terminal 7</title>
    <!-- Cache control meta tags -->
    <meta http-equiv="Cache-Control" content="public, max-age=86400" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no,  shrink-to-fit=no" />
    <meta name="description" content="A touchable terminal multiplexer & emulator running over WebRTC">
    <link rel="icon" href="/logo.svg" type="image/svg+xml">
    <link rel="alternate icon" href="/favicon.ico" type="image/png" sizes="48x48 32x32">
    <link rel="mask-icon" href="/logo.svg" color="#271D30">
    <link rel="apple-touch-icon" href="/logo192.png">
    <meta name="theme-color" content="#271D30">
    <meta name="apple-touch-fullscreen" content="yes" />
    <meta name="apple-mobile-web-app-title" content="Terminal7" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <script type="module" src="/main.ts" defer></script>
    
</head>
<body>
  <div id="terminal7">
      <div id="log" class="hidden">
          <div> <div id="t0">
                  <div id="capslock-indicator" class="hidden"><i class="f7-icons">exclamationmark_triangle</i> CAPS</div>
                  <div id="settings" class="hidden">
                  <textarea id="edit-conf">
                  </textarea>
                  </div>
              </div> </div>
      </div>
      <div id="map">
          <div id="log-minimized">
               <div id="twr" class="has-help" aria-label="Control Tower" data-test="twr-minimized">TWR</div>
          </div>
          <div class="map-header-wide"></div>
          <div id="gates">
              <div class="gate-pad" id="add-gate" data-test="addButton">
                  <button type="button" class="text-button">
                      <i class="f7-icons has-help" aria-label="Add Host">plus</i>
                  </button>
             </div>
             <div class="line-break"></div>
          </div>
          <div id="map-footer">
              <div class="empty-pad"><div></div></div>
              <div class="empty-pad"><div></div></div>
              <div class="empty-pad"><div></div></div>
              <div class="empty-pad"><div></div></div>
             <div class="line-break"></div>
          </div>
          <div id="version">
              <h1 id="title-long">Terminal 7</h1>
              <h1 id="title-short">T7</h1>
              <p><a id="toggle-changelog" class="has-help" aria-label="Change log">version 1.10.0</a></p>
			  <div id="changelog">
				  <a href="https://github.com/tuzig/terminal7/blob/master/CHANGELOG.md" target="_blank">
					  <i class="f7-icons">logo_github</i>
				  </a>
				  <div id="changelog-content"></div>
			  </div>
              <ul>
                  <li>
                      &#x1F4D6; &nbsp;
                      <a id="peerbook-legend">
                      PeerBook
                      <span id="peerbook-status" class="status has-help" aria-label="Peer Book Status">ðŸš§</span>
                      </a>
                    </li>
                </ul>


              <footer>map inspired by Eero Saarinen's T5</footer>
          </div>
      </div>
      <div id="manual-install" class="hidden modal border">
          <h1 style="margin:1em;">Installation Instructions</h1>
          <ul>
              <li>On an iPad, press the share button and then "Add to Home Screen"</li>
          <li>Firefox has poor PWA support, better use chrome or edge or safari
              on the iPad</li>
          <li>To install the app look for the PWA install icon at the edge
              of the browser's url field</li>
          </ul>
            <nav>
                <button type="button" class="close"><i class="f7-icons">xmark</i></button>
            </nav>
      </div>
      <div id="greetings-modal" class="hidden modal border">
          <h1>ðŸ–– Greetings & Salutations ðŸ––</h1>
          <h2 style="margin-top:0.5em"> Thanks for trying Terminal7</h2>
          <p>
                Terminal7 is a progressive web terminal emulator and multiplexer
                over WebRTC. Inspired by tmux, Terminal7 introduces
                three novelties:
        </p>
        <div>
        <ul>
            <li>Running over a mobile network</li>
            <li>Grpahics display output</li>
            <li>Touchable interface</li>
        </ul>
        </div>
        <p>
        You can play with Terminal7 in your browser or
        you can install it to enjoy full screen,
            offline and playing better with other apps
        </p>
          <nav class="navtext">
          <button type="button" class="play-button text-button">Play</button>
          <button id="install-button" type="button" class="text-button">Install</button>
          </nav>
      </div>
      <div id="onboarding" class="hidden modal border">
          <h1>What is the local operating system type?</h1>
          <nav class="navtext">
              <button type="button" class="onmobile text-button">Mobile</button>
              <button type="button" class="ongpos text-button">GPOS</button>
          </nav>
      </div>
      <div id="peerbook-modal" class="hidden modal border">
          <!--
        <p>
        Welcome to our beta. To start using Terminal7 you will need a server
        with the webexec program running. You can use any *Nix machine as your
        server. Installation is prety simple, just follow the
        <a href="https://github.com/tuzig/webexec/#install">instructions</a>.
        </p> -->
          <h2>&#x1F4D6; PeerBook Registration &#x1F4D6;</h2>
        <p>
          peerbook.io is signalling server and an address book.
          peerbook helps with fingerprints exchange,
          ephermal IP hosts and behind-the-NAT servers.
        </p><p>
          Regsiter to get your peerbook and help us test the service:
        </p>
          <nav>
              <button type="button" class="close"><i class="f7-icons">
                      xmark</i></button>
          </nav>
      </div>
      <div id="edit-unverified-pbhost" class="hidden modal border" >
            <h1 class="Warning">Unverified Host</h1>
            <p>Please visit <a target="_blank">PeerBook</a> to verify</p>
            <nav>
                <button type="button" class="close"><i class="f7-icons">xmark</i></button>
            </nav>
      </div>
      <div id="offline" class="hidden modal border non-clearable" >
          <h1 class="warning">Network is down</h1>
          <p>Terminal 7 will activate on reconnect</p>
      </div>
      <div id="help-gate" class="hidden">
          <img src="img/help.png" alt="gate help screen">
      </div>
      <div id="keys-help" class="keys-help hidden modal border" >
          <p>Use CTRL-A if your keyboard has no âŒ˜</p>
          <div>
          <table><tbody>
        <tr> <td>Toggle Fullscreen</td> <td>âŒ˜&nbsp;Z</td> </tr>
        <tr> <td>Move Focus</td> <td>âŒ˜&nbsp;&larr;&uarr;&darr;&rarr;</td> </tr>
        <tr> <td>Search Pane Buffer</td> <td>âŒ˜&nbsp;F</td> </tr>
        <tr class="copy_mode"> <td>Enter Copy Mode</td> <td>âŒ˜&nbsp;[</td> </tr>
        <tr> <td>Bigger Font</td> <td>âŒ˜&nbsp;+</td> </tr>
        <tr> <td>Smaller Font</td> <td>âŒ˜&nbsp;-</td> </tr>
        <tr> <td>Reset Font</td> <td>âŒ˜&nbsp;0</td> </tr>
        <tr> <td>Split Top to Bottom</td> <td>âŒ˜&nbsp;\</td> </tr>
          </tbody></table>
          <table><tbody>
        <tr> <td>Split Right to Left</td> <td>âŒ˜&nbsp;'</td> </tr>
        <tr> <td>Rename Tab</td> <td>âŒ˜&nbsp;,</td> </tr>
        <tr> <td>New Tab</td> <td>âŒ˜&nbsp;T</td> </tr>
        <tr> <td>Toggle Log</td> <td>âŒ˜&nbsp;L</td> </tr>
        <tr> <td>Close Pane</td> <td>âŒ˜&nbsp;D</td> </tr>
        <tr> <td>Reset</td> <td>âŒ˜&nbsp;R</td> </tr>
        <tr> <td>Dump log to clipboard</td> <td>âŒ˜&nbsp;9</td> </tr>
        <tr> <td>Hide This</td> <td>Tap This</td> </tr>
              </tbody></table>
          </div>
      </div>
      <div id="reset-cert" class="hidden modal border" >
        <p>peerbook returned an error:</p>
        <code id="reset-cert-error"> </code>
        <p>
            Please edit the settings and change the email or press the
            reset button to generate a new certificate.
            </p>
            <nav>
                <button type="button" class="close"><i class="f7-icons">xmark</i></button>
                <button type="button" class="reset"><i class="f7-icons">arrow_2_circlepath</i></button>
            </nav>
      </div>
  </div>
  <nav id="navbar" class="bar">
          <button type="button" aria-label="Map" id="map-button" class="off has-help"><i class="f7-icons">map</i></button>
          <button type="button" aria-label="Open Tower" data-sc="L" id="log-button" class="has-help"><i class="f7-icons">greaterthan</i></button>
          <button type="button" aria-label="Close Pane" data-sc="D" id="trash-button" class="pane-buttons off has-help"><i class="f7-icons">rectangle_badge_xmark</i></button>
          <button type="button" aria-label="Split Right to Left" data-sc="'" id="divide-h" class="pane-buttons off has-help"><i class="f7-icons">divide</i></button>
          <button type="button" aria-label="Split Top to Bottom" data-sc="\" id="divide-v" class="pane-buttons off has-help">
              <i class="f7-icons" style="display: inline-block; transform: rotate(90deg);">divide</i></button>
          <button type="button" aria-label="Search Pane Buffer" data-sc="F" id="search-button" class="pane-buttons off has-help"><i class="f7-icons">doc_text_search</i></button>
          <button type="button" aria-label="Video" id="video-button" class="pane-buttons off has-help"><i class="f7-icons">videocam</i></button>
          <button type="button" aria-label="Help" id="help-button" class="has-help"><i class="f7-icons">question</i></button>
          <button type="button" aria-label="dotfile" id="dotfile-button" class="has-help"><i class="f7-icons">gear</i></button>
  </nav>

    <template id="lose-state-template">
       <div class="lose-state modal border temporal">
          <h1 class="warning">Lost Layout & Shells</h1>
          <h3>vanilla SSH has no session memory</h3>
          <p>To keep state while switching apps, T7 needs its backend -
          <a href="https://github.com/tuzig/webexec">webexec</a>. webexec is a real time
          terminal running over WebRTC written in Go.
          </p>
          <pre>
          </pre>
          <nav>
              <button type="button" class="close"><i class="f7-icons">xmark</i></button>
              <button type="button" class="continue"><i class="f7-icons">phone_arrow_up_right</i></button>
              <button type="button" class="copy"><i class="f7-icons">doc_on_clipboard</i>&nbsp;&amp;&nbsp;
                                                 <i class="f7-icons">phone_arrow_up_right</i>
              </button>
          </nav>
       </div>
    </template>
    <template id="nosignal-template">
        <div class="modal border temporal">
          <h1><span class="name"></span> Error</h1>
          <p id="nosignal-wrong-address" style="display:none;">
            If <span class="address"></span> is the wrong address click
              <a href="#" class="edit-link">here</a>.</p>
          <p class="server-error"></p>
          <nav>
              <button type="button" class="close"><i class="f7-icons">xmark</i></button>
              <button type="button" class="reconnect"><i class="f7-icons">arrow_2_circlepath</i></button>
          </nav>
      </div>
    </template>
    <!-- every gate creates his own tabbar based on the template below -->
    <template id="gate-template">
    <div class="windows-container">
    </div>
    <div class="gate-stats">
    </div>
    <div class="search-box border hidden">
      <nav class="tabbar-search">
        <button type="button" class="search-close"><i class="f7-icons">xmark</i></button>
        <input type="text" name="search-term">
        <div class="not-found hidden">Not found</div>
        <button type="button" class="search-up off"><i class="f7-icons">chevron_up</i></button>
        <button type="button" class="search-down off"><i class="f7-icons">chevron_down</i></button>
        <!-- TODO: implment the url & file buttons
        <a href="#find-url" class="hidden">URL</a>
        <a href="#find-file" class="hidden">File</a>
        -->
      </nav>
    </div>
    <div class="hidden rename-box border">
      <nav class="tabbar-search">
        <button type="button" class="rename-close"><i class="f7-icons">xmark</i></button>
        <input type="text" name="new-name" id="name-input">
      </nav>
    </div>

    <template id="divider-template">
        <div class="divider hidden">
            <img width="8" height="44" src="img/divider.png" alt="a divider">
        </div>
    </template>
    <nav class="tabbar">
          <button type="button" aria-label="New Tab" data-sc="T" class="add-tab has-help"><i class="f7-icons">
                  plus</i></button>
          <nav class="tabbar-names">
          </nav>
          <button type="button" aria-label="Reset" data-sc="R" class="reset has-help"><i class="f7-icons">
                  arrow_2_circlepath</i></button>
    </nav>
</template>
</body>
</html>
